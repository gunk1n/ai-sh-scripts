#!/bin/bash

# Функция для отображения меню
show_menu() {
    clear
    echo "===================================="
    echo " Меню полезных команд Ubuntu 22.04 "
    echo "===================================="
    echo "1. Системные команды"
    echo "2. Сетевые команды"
    echo "3. Управление пакетами"
    echo "4. Управление файлами"
    echo "5. Выход"
    echo "===================================="
    echo -n "Выберите категорию: "
}

# Функция для отображения системных команд
system_commands() {
    clear
    echo "===================================="
    echo " Системные команды "
    echo "===================================="
    echo "1. Перезагрузить систему"
    echo "2. Выключить систему"
    echo "3. Показать информацию о системе"
    echo "4. Вернуться в главное меню"
    echo "===================================="
    echo -n "Выберите команду: "
    read choice
    case $choice in
        1) sudo reboot ;;
        2) sudo shutdown -h now ;;
        3) neofetch ;;
        4) return ;;
        *) echo "Неверный выбор";;
    esac
    read -p "Нажмите Enter, чтобы продолжить..."
}

# Функция для отображения сетевых команд
network_commands() {
    clear
    echo "===================================="
    echo " Сетевые команды "
    echo "===================================="
    echo "1. Показать IP-адрес"
    echo "2. Проверить соединение с интернетом"
    echo "3. Показать открытые порты"
    echo "4. Вернуться в главное меню"
    echo "===================================="
    echo -n "Выберите команду: "
    read choice
    case $choice in
        1) ip a ;;
        2) ping -c 4 google.com ;;
        3) sudo netstat -tuln ;;
        4) return ;;
        *) echo "Неверный выбор";;
    esac
    read -p "Нажмите Enter, чтобы продолжить..."
}

# Функция для отображения команд управления пакетами
package_commands() {
    clear
    echo "===================================="
    echo " Управление пакетами "
    echo "===================================="
    echo "1. Обновить список пакетов"
    echo "2. Установить пакет"
    echo "3. Удалить пакет"
    echo "4. Обновить все пакеты"
    echo "5. Вернуться в главное меню"
    echo "===================================="
    echo -n "Выберите команду: "
    read choice
    case $choice in
        1) sudo apt update ;;
        2) echo -n "Введите имя пакета: "; read pkg; sudo apt install $pkg ;;
        3) echo -n "Введите имя пакета: "; read pkg; sudo apt remove $pkg ;;
        4) sudo apt upgrade ;;
        5) return ;;
        *) echo "Неверный выбор";;
    esac
    read -p "Нажмите Enter, чтобы продолжить..."
}

# Функция для отображения команд управления файлами
file_commands() {
    clear
    echo "===================================="
    echo " Управление файлами "
    echo "===================================="
    echo "1. Показать содержимое каталога"
    echo "2. Создать файл"
    echo "3. Удалить файл"
    echo "4. Переименовать файл"
    echo "5. Вернуться в главное меню"
    echo "===================================="
    echo -n "Выберите команду: "
    read choice
    case $choice in
        1) echo -n "Введите путь к каталогу: "; read dir; ls -l $dir ;;
        2) echo -n "Введите имя файла: "; read file; touch $file ;;
        3) echo -n "Введите имя файла: "; read file; rm $file ;;
        4) echo -n "Введите старое имя файла: "; read old; echo -n "Введите новое имя файла: "; read new; mv $old $new ;;
        5) return ;;
        *) echo "Неверный выбор";;
    esac
    read -p "Нажмите Enter, чтобы продолжить..."
}

# Основной цикл меню
while true; do
    show_menu
    read choice
    case $choice in
        1) system_commands ;;
        2) network_commands ;;
        3) package_commands ;;
        4) file_commands ;;
        5) break ;;
        *) echo "Неверный выбор";;
    esac
    read -p "Нажмите Enter, чтобы продолжить..."
done

echo "Выход из меню."